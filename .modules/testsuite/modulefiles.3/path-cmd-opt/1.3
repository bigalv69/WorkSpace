#%Module

module-whatis [module-info name]

if {[info exists env(TESTSUITE_PATH_CMD_OPT)]} {
    switch -- $env(TESTSUITE_PATH_CMD_OPT) {
        append1 {
            append-path FOO /tmp --noop-on-unload /dir1
        }
        append2 {
            append-path --noop-on-unload FOO /tmp
        }
        prepend1 {
            prepend-path --noop-on-unload FOO /tmp
        }
        prepend2 {
            prepend-path --noop-on-unload FOO /tmp /dir1
        }
        remove1 {
            remove-path --noop-on-unload FOO /tmp
        }
        remove2 {
            remove-path --noop-on-unload FOO /tmp /dir1
        }
        use1 {
            module use /tmp --noop-on-unload /dir1
        }
        use2 {
            module use --noop-on-unload /tmp
        }
        unuse1 {
            module unuse /tmp --noop-on-unload /dir1
        }
        unuse2 {
            module unuse --noop-on-unload /tmp /dir1
        }
        remove3 {
            remove-path FOO --noop-on-unload /tmp
        }
        remove4 {
            remove-path FOO /tmp /dir1 --noop-on-unload
        }
        remove5 {
            remove-path FOO /tmp /dir1 --remove-on-unload --noop-on-unload
        }
        remove6 {
            remove-path --remove-on-unload --noop-on-unload FOO /tmp /dir1
        }
        remove7 {
            remove-path --append-on-unload FOO /tmp --noop-on-unload /dir1 /dir2
        }
        remove8 {
            remove-path --noop-on-unload --index FOO 3
        }
        remove9 {
            remove-path --index FOO 3 --noop-on-unload /tmp
        }
        remove10 {
            remove-path --noop-on-unload --duplicates FOO /tmp /dir1
        }
        remove11 {
            remove-path --ignore-refcount --noop-on-unload FOO /tmp /dir1
        }
        unuse3 {
            module unuse /tmp /dir1 --noop-on-unload
        }
        unuse4 {
            module unuse /tmp /dir1 --remove-on-unload --noop-on-unload
        }
        unuse5 {
            module unuse --remove-on-unload --noop-on-unload /tmp /dir1
        }
        unuse6 {
            module unuse --append-on-unload /tmp --noop-on-unload /dir1 /dir2
        }
        remove12 {
            remove-path FOO --noop-on-unload
        }
        remove13 {
            remove-path FOO /tmp --append-on-unload /dir2 --noop-on-unload /dir3
        }
        remove14 {
            remove-path FOO --noop-on-unload --remove-on-unload /tmp /dir1
        }
        unuse7 {
            module unuse --noop-on-unload
        }
        unuse8 {
            module unuse /tmp /dir1 --append-on-unload /dir2 --noop-on-unload /dir3
        }
        unsetenv1 {
            unsetenv FOO --noop-on-unload
        }
        unsetenv2 {
            unsetenv --noop-on-unload FOO
        }
        unsetenv3 {
            unsetenv --noop-on-unload FOO val
        }
        unsetenv4 {
            unsetenv FOO --noop-on-unload val
        }
        unsetenv5 {
            unsetenv FOO val --noop-on-unload
        }
    }
}

